var LoginRadiusSSO=function(){function l(a,b){b=b||document;var c=b.getElementsByTagName("head")[0],d=b.createElement("script");d.src=a;d.type="text/javascript";c.appendChild(d);return d}function g(a,b){var c="Loginradius"+Math.floor(1E18*Math.random()+1);window[c]=function(a){b(a);window[c]=function(){};document.head.removeChild(f)};var d=-1!=a.indexOf("?")?a+"&callback="+c:a+"?callback="+c,f=l(d)}function h(a){k?b.appName?a():b.log("LoginRadius site name (app name) required to do SSO"):b.log("Init method should be called first then login.")}
var b={enableLog:!1,log:function(a){"on"==b.debugMode&&console.log(a)}},k=!1;b.Cookie={getItem:function(a){return a&&this.hasOwnProperty(a)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(a){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[a])},setItem:function(a,b,c){a&&(document.cookie=escape(a)+"="+escape(b)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path="+
(c?c:"/"),this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(a,b){a&&this.hasOwnProperty(a)&&(document.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path="+(b?b:"/"),this.length--)},hasOwnProperty:function(a){return(new RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)}};b.init=function(a,d,c,e){a?(b.appName=a,b.protocol=c||""):b.log("LoginRadius site name (app name) required to do SSO");b.appPath=d;b.debugMode=
e;k=!0};b.login=function(a,d){h(function(){g(b.protocol+"//"+b.appName+".hub.loginradius.com/ssologin/login",function(c){if(c.isauthenticated)if(!d&&window.LoginRadiusRaaS)LoginRadiusRaaS.loginradiushtml5passToken?LoginRadiusRaaS.loginradiushtml5passToken(c.token):b.log("To handle SSO with Customer registration requires to call LoginRadiusRaaS.init with sociallogin option");else if("string"==typeof a||a instanceof String){var e=document.createElement("form");e.action=a||window.location.href;e.method=
"POST";var f=document.createElement("input");f.type="hidden";f.name="token";f.value=c.token;e.appendChild(f);document.body.appendChild(e);e.submit()}else"function"==typeof a&&a(c.token)})})};b.logout=function(a,d){h(function(){g(b.protocol+"//"+b.appName+".hub.loginradius.com/ssologin/"+(d?"tokenExpire":"logout")+(d?"?tokenExpire=1":""),function(c){b.Cookie.removeItem("lr-user--token",b.appPath);"string"==typeof a||a instanceof String?window.location=a||window.location.href:"function"==typeof a&&
a()})})};b.isNotLoginThenLogout=function(a,d){h(function(){g(b.protocol+"//"+b.appName+".hub.loginradius.com/ssologin/login",function(c){if(c.isauthenticated){var e=b.Cookie.getItem("lr-user--token");e&&e!=c.token?"string"==typeof a||a instanceof String?window.location=a||window.location.href:"function"==typeof a&&a(c.token):d&&"function"==typeof d&&d(c.token)}else"string"==typeof a||a instanceof String?window.location=a||window.location.href:"function"==typeof a&&a()})})};b.setToken=function(a){b.Cookie.setItem("lr-user--token",
a,b.appPath)};return b}();